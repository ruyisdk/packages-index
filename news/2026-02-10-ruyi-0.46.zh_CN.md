---
title: 'RuyiSDK 0.46 版本更新说明'
---

# RuyiSDK 0.46 版本更新说明

RuyiSDK 0.46 现已发布，对应的包管理器版本也为 0.46.0。您可前往以下位置之一下载 RuyiSDK 包管理器：

* [PyPI](https://pypi.org/project/ruyi/0.46.0/): `pip install ruyi`
* <https://github.com/ruyisdk/ruyi/releases/tag/0.46.0>
* <https://mirror.iscas.ac.cn/ruyisdk/ruyi/releases/0.46.0/>

> [!NOTE]
> RISC-V 用户可以使用 `pip` 安装 `ruyi`，但由于 `ruyi` 依赖的部分 Python
> 库暂未在 PyPI 上提供 RISC-V 架构的预编译包，安装 `ruyi` 时 Python
> 包管理器会尝试从源代码编译安装这些依赖，可能非常耗时或编译失败。
>
> 如果您在 RISC-V 设备上安装 `ruyi` 时遇到问题，建议使用其他安装方法。

本次更新主要包含了以下内容，祝您使用愉快！

## RuyiSDK 包管理器

* 完善了插件架构，现已支持包管理器插件内字符串的本地化：
    * 新增 `RUYI.has_feature()` 以便探测特定的功能特性是否受到当前运行环境支持。为支持旧版
      RuyiSDK 包管理器，您可首先使用 `hasattr(RUYI, "has_feature")` 检查该方法是否存在，再进行使用（不然您的插件则会崩溃）；如该方法不存在，则您所要探测的功能肯定不受支持。
    * 新增 `i18n-v1` 功能特性，对应新增的 `RUYI.i18n` 接口：
        * `RUYI.i18n.locale: str` 是当前运行环境的区域（locale）取值；
        * `RUYI.i18n.msg(msgid: str, locale: str | None = None) -> str | None`
          从当前软件源的 `messages.toml` 查询给定 ID 在给定 locale（默认为当前 locale）的消息字符串。目前建议用
          `format()` 方法对取得的字符串进行变量替换（格式化）。
* 您在 PyPI 上可以用更多关键词搜索到我们了。
* 工程化迭代：
    * 为 CI 任务的执行环境配置了初步的安全加固措施，其中包含初步的网络流量审计，以预防 CI 相关的供应链攻击。

## RuyiSDK 软件源

* 为 RuyiSDK 设备安装器所用到的插件增加了完整的简体中文支持。
* 更新软件包：
    * `toolchain/gnu-upstream`: RuyiSDK 从上游源码构建的 GNU 工具链，0.20260201.0 版本。包含 GNU binutils 2.45、GCC 15.2.0 以及 glibc 2.43。
* 完善了设备支持：
    * Sipeed LicheeRV Nano 的 Buildroot SDK: 更新到 20260114。感谢 [@smullllu] 的贡献！

[@smullllu]: https://github.com/smullllu

## IDE

### VSCode


### Eclipse

- 上架 Eclipse Marketplace 并更新文档: <https://marketplace.eclipse.org/content/ruyisdk>。
- 调整 Ruyi 安装向导中错误的按钮状态。
- 更新依赖的第三方库和 Maven 插件，限制构建环境为 Linux Java 21+。

## 版本测试及遗留问题

RuyiSDK 0.46.0 版本已通过[发版测试](https://gitee.com/yunxiangluo/ruyisdk-test/blob/master/20260207/README.md)。该版本测试是基于 0.46.0-beta.20260206 测试版本开展的，预期 0.46.0
版本将基于 0.46.0-beta.20260206 版本代码发版。
